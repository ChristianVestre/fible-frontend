{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/christian/Development/fible-frontend-nextjs/src/components/inputscreen-components/simulator/simulator.tsx\";\nvar __jsx = React.createElement;\nimport styled from 'styled-components';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport HeadlineText from './simulatorComponents/headline';\nimport { updateComponentsOrder } from '../../../redux/actions/dataActions';\n\nvar Simulator =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Simulator, _React$Component);\n\n  function Simulator() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Simulator);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Simulator)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentCreator\", function () {\n      return _this.props.dataState[_this.props.uiState.simulator.show][_this.props.dataState.selectedHtypeId] != undefined ? _this.props.dataState[_this.props.uiState.simulator.show][_this.props.dataState.selectedHtypeId].order.map(function (id, index) {\n        var component = _this.props.dataState[_this.props.uiState.simulator.show][_this.props.dataState.selectedHtypeId].components[id];\n\n        switch (component.type) {\n          case \"HEADLINE\":\n            {\n              return __jsx(HeadlineText, {\n                key: component.id,\n                component: component,\n                index: index,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 18\n                },\n                __self: this\n              });\n            }\n\n          default:\n            return __jsx(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 21\n              },\n              __self: this\n            });\n        }\n      }) : [1].map(function (index) {\n        return __jsx(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnd\", function (result) {\n      var destination = result.destination,\n          source = result.source,\n          draggableId = result.draggableId;\n\n      if (!destination) {\n        return;\n      }\n\n      if (destination.droppableId == source.droppableId && destination.index == source.index) {\n        return;\n      }\n\n      var newOrder = _Array$from(_this.props.dataState[_this.props.uiState.simulator.show][_this.props.dataState.selectedHtypeId].order);\n\n      var htype = _this.props.uiState.simulator.show;\n      var htypeId = _this.props.dataState.selectedHtypeId; // const columnId = source.droppableId;\n      //const column = this.props.uiState.columns[source.droppableId]\n      //const newOrder = Array.from(column.ids);\n\n      newOrder.splice(source.index, 1);\n      newOrder.splice(destination.index, 0, draggableId);\n      console.log(newOrder);\n\n      _this.props.updateComponentsOrder({\n        newOrder: newOrder,\n        htype: htype,\n        htypeId: htypeId\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Simulator, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(BackgroundWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(DragDropContext, {\n        onDragEnd: this.onDragEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(Droppable, {\n        droppableId: \"simulator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, function (provided) {\n        return __jsx(FilledSimulator, _extends({\n          ref: provided.innerRef\n        }, provided.droppableProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }), _this2.componentCreator(), provided.placeholder);\n      })));\n    }\n  }]);\n\n  return Simulator;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    uiState: state.ui,\n    dataState: state.data\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateComponentsOrder: updateComponentsOrder\n})(Simulator);\n/*\nfunction Simulator() {\n    return (\n        <BackgroundWrapper>\n            <ForegroundWrapper>\n              <Image src=\"mountains.png\"></Image>\n            </ForegroundWrapper>\n        </BackgroundWrapper>\n    )\n}\n\nexport default Simulator\n*/\n\nvar BackgroundWrapper = styled.div.withConfig({\n  displayName: \"simulator__BackgroundWrapper\",\n  componentId: \"sc-19oy64e-0\"\n})([\"width:50vw;height:100vh;display:flex;background:white;align-content:center;justify-content:center;\"]);\nvar FilledSimulator = styled.div.withConfig({\n  displayName: \"simulator__FilledSimulator\",\n  componentId: \"sc-19oy64e-1\"\n})([\"width:40vh;height:84vh;align-self:center;display:flex;border-style:solid;border-radius:1.5em;border-color:lightgrey;border-width:0.05em;flex-direction:column;\"]);\nvar Image = styled.img.withConfig({\n  displayName: \"simulator__Image\",\n  componentId: \"sc-19oy64e-2\"\n})([\"border-radius:1.5em;max-width:100%;max-height:30%;height:auto;width:auto;display:block;object-fit:cover;overflow:hidden;\"]);","map":{"version":3,"sources":["/home/christian/Development/fible-frontend-nextjs/src/components/inputscreen-components/simulator/simulator.tsx"],"names":["styled","React","connect","DragDropContext","Droppable","HeadlineText","updateComponentsOrder","Simulator","props","dataState","uiState","simulator","show","selectedHtypeId","undefined","order","map","id","index","component","components","type","result","destination","source","draggableId","droppableId","newOrder","htype","htypeId","splice","console","log","onDragEnd","provided","innerRef","droppableProps","componentCreator","placeholder","Component","mapStateToProps","state","ui","data","BackgroundWrapper","div","FilledSimulator","Image","img"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\nimport HeadlineText from './simulatorComponents/headline'\nimport {updateComponentsOrder} from '../../../redux/actions/dataActions'\n\n\n\nclass Simulator extends React.Component<{dataState:any,uiState:any, updateComponentsOrder:any}> {\n\n    componentCreator = () => {\n        return this.props.dataState[this.props.uiState.simulator.show][this.props.dataState.selectedHtypeId] != undefined?\n        this.props.dataState[this.props.uiState.simulator.show][this.props.dataState.selectedHtypeId].order.map((id,index) =>{\n             let component =  this.props.dataState[this.props.uiState.simulator.show][this.props.dataState.selectedHtypeId].components[id];\n             switch (component.type) {\n                case (\"HEADLINE\"): {\n                    return <HeadlineText key={component.id} component={component} index={index}></HeadlineText>\n                }\n                default:\n                    return<div></div>\n            }\n\n\n        }): [1].map((index) => <div key={index}></div>)\n        \n    }\n\n    onDragEnd = result =>{\n        const { destination, source, draggableId } = result;\n        if (!destination) {\n            return;\n        }\n\n        if (destination.droppableId == source.droppableId &&\n            destination.index == source.index) {\n            return;\n        }\n        const newOrder = Array.from(this.props.dataState[this.props.uiState.simulator.show][this.props.dataState.selectedHtypeId].order)\n        const htype = this.props.uiState.simulator.show\n        const htypeId = this.props.dataState.selectedHtypeId\n       // const columnId = source.droppableId;\n        //const column = this.props.uiState.columns[source.droppableId]\n        //const newOrder = Array.from(column.ids);\n\n        newOrder.splice(source.index, 1);\n        newOrder.splice(destination.index, 0, draggableId);\n        console.log(newOrder)\n        this.props.updateComponentsOrder({ newOrder,htype,htypeId  })\n    }\n\n    render() {\n        return <BackgroundWrapper>\n                <DragDropContext onDragEnd={this.onDragEnd}>\n                <Droppable droppableId=\"simulator\">\n                {provided => (\n                <FilledSimulator\n                        ref={provided.innerRef}\n                        {...provided.droppableProps}\n                >{this.componentCreator()}\n                    {provided.placeholder}\n                </FilledSimulator>\n\n                )}\n                </Droppable>\n                 </DragDropContext>\n            \n        </BackgroundWrapper>\n    }\n}\n\nconst mapStateToProps = state => {\n    return { uiState: state.ui, dataState: state.data };\n};\n\nexport default connect(mapStateToProps,{updateComponentsOrder})(Simulator);\n\n\n/*\nfunction Simulator() {\n    return (\n        <BackgroundWrapper>\n            <ForegroundWrapper>\n              <Image src=\"mountains.png\"></Image>\n            </ForegroundWrapper>\n        </BackgroundWrapper>\n    )\n}\n\nexport default Simulator\n*/\nconst BackgroundWrapper = styled.div`\n  width: 50vw;\n  height: 100vh;\n  display:flex;\n  background:white;\n  align-content:center;\n  justify-content:center;\n`;\n\nconst FilledSimulator = styled.div`\n  width:40vh;\n  height: 84vh;\n  align-self:center;\n  display:flex;\n  border-style:solid;\n  border-radius: 1.5em;\n  border-color:lightgrey;\n  border-width:0.05em;\n  flex-direction:column;\n`\n\nconst Image = styled.img`\n  border-radius:1.5em;\n  max-width:100%;\n  max-height:30%;\n  height:auto;\n  width:auto;\n  display: block;\n  object-fit: cover;\n  overflow: hidden;\n\n\n`"]},"metadata":{},"sourceType":"module"}